CREATE TABLE VEHICLE (
    vehicleID INT PRIMARY KEY,
    vehicleRegNo VARCHAR(20),
    ownerID INT,
    ntcRegNo VARCHAR(20),
    noOfSeats INT,
    type VARCHAR(20),
    org VARCHAR(20),
    FOREIGN KEY (ownerID) REFERENCES BUS_OWNER(ownerID)
);

CREATE TABLE SCHEDULE (
    scheduleID INT PRIMARY KEY,
    vehicleID INT,
    routeID INT,
    departureTime TIME,
    arrivalTime TIME,
    availableSeats INT,
    FOREIGN KEY (vehicleID) REFERENCES VEHICLE(vehicleID),
    FOREIGN KEY (routeID) REFERENCES ROUTE(routeID)
);

CREATE TABLE BOOKING (
    ticketNo INT PRIMARY KEY,
    date DATE,
    scheduleID INT,
    noOfPassengers INT,
    vehicleID INT,
    routeID INT,
    driverID INT,
    conductorID INT,
    passengerID INT,
    fromLocation VARCHAR(255),
    toLocation VARCHAR(255),
    ticketPrice DECIMAL(6,2),
    FOREIGN KEY (scheduleID) REFERENCES SCHEDULE(scheduleID),
    FOREIGN KEY (vehicleID) REFERENCES VEHICLE(vehicleID),
    FOREIGN KEY (routeID) REFERENCES ROUTE(routeID),
    FOREIGN KEY (driverID) REFERENCES EMPLOYEE(employeeID),
    FOREIGN KEY (conductorID) REFERENCES EMPLOYEE(employeeID),
    FOREIGN KEY (passengerID) REFERENCES PASSENGER(passengerID)
);

CREATE TABLE TRANSACTION (
    transactionID INT PRIMARY KEY,
    userID INT,
    amount DECIMAL(6,2),
    time TIME,
    refNo VARCHAR(50),
    type VARCHAR(50),
    status VARCHAR(50),
    bankAccountNumber VARCHAR(50),
    accountBranch VARCHAR(255),
    beneficiary VARCHAR(255),
    bank VARCHAR(255),
    FOREIGN KEY (userID) REFERENCES USERS(userID)
);

CREATE TABLE ROUTE (
      routeNo int(10) NOT NULL,
      routeType varchar(12) NOT NULL,
      start varchar(25) NOT NULL,
      end varchar(25) NOT NULL,
      PRIMARY KEY (routeNo)
);
